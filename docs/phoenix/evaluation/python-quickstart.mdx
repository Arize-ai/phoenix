---
title: "Get Started: Evaluations"
sidebarTitle: "Python Quickstart"
---

Now that you have Phoenix up and running, and sent traces to your first project, the next step you can take is running **evaluations** of your Python application. Evaluations let you measure and monitor the quality of your application by scoring traces against metrics like accuracy, relevance, or custom checks.

<Steps>
  <Step title={<span className="step-title">Launch Phoenix</span>}>
    Before running evals, make sure Phoenix is running & you have sent traces in your project. For more step by step instructions, check out this [Get Started guide](/docs/phoenix/get-started) & [Get Started with Tracing guide](/docs/phoenix/get-started/get-started-tracing).

    <Tabs>
      <Tab title="Phoenix Cloud">
        Log in, create a space, navigate to the settings page in your space, and create your API keys.

        Set your environment variables.

        ```bash
        export PHOENIX_API_KEY = "ADD YOUR PHOENIX API KEY"
        export PHOENIX_COLLECTOR_ENDPOINT = "ADD YOUR PHOENIX COLLECTOR ENDPOINT"
        ```

        You can find your collector endpoint here:

        <Frame caption="Launch your space, navigate to settings & copy your hostname for your collector endpoint">
          <img src="https://storage.googleapis.com/arize-phoenix-assets/assets/images/phoenix-docs-images/phoenix_hostname_settings.png" alt="After launching your space, go to settings." />
        </Frame>

        Your Collector Endpoint is: [https://app.phoenix.arize.com/s/](https://app.phoenix.arize.com/s/) + your space name.
      </Tab>

      <Tab title="Local (Self-hosted)">
        If you installed Phoenix locally, you have a variety of options for deployment methods including: Terminal, Docker, Kubernetes, Railway, & AWS CloudFormation. ([Learn more: Self-Hosting](https://arize.com/docs/phoenix/self-hosting))

        To host on your local machine, run `phoenix serve` in your terminal.

        Navigate to your localhost in your browser. (example localhost:6006)
      </Tab>
    </Tabs>
  </Step>

  <Step title={<span className="step-title">Install Phoenix Evals</span>}>
    You'll need to install the evals library that's apart of Phoenix.

    ```bash
    pip install -q "arize-phoenix-evals>=2"
    pip install -q "arize-phoenix-client"
    ```
  </Step>

  <Step title={<span className="step-title">Pull down your Trace Data</span>}>
    Since, we are running our evaluations on our trace data from our first project, we'll need to pull that data into our code.

    ```python
    from phoenix.client import Client

    px_client = Client()
    primary_df = px_client.spans.get_spans_dataframe(project_identifier="my-llm-app")
    ```
  </Step>

  <Step title={<span className="step-title">Set Up Evaluations</span>}>
    In this example, we will define, create, and run our own evaluator. There's a number of different evaluators you can run, but this quick start will go through an LLM as a Judge Model.

    **1) Define your LLM Judge Model**

    We'll use OpenAI as our evaluation model for this example, but Phoenix also supports a number of [other models](/docs/phoenix/evaluation/how-to-evals/configuring-the-llm/).

    If you haven't yet defined your OpenAI API Key from the previous step, let's first add it to our environment.

    ```python
    import os
    from getpass import getpass

    if not (openai_api_key := os.getenv("OPENAI_API_KEY")):
        openai_api_key = getpass("ðŸ”‘ Enter your OpenAI API key: ")

    os.environ["OPENAI_API_KEY"] = openai_api_key

    from phoenix.evals.llm import LLM
    llm = LLM(model="gpt-4o", provider="openai")
    ```

    **2) Define your Evaluators**

    We will set up a Q&A correctness Evaluator with the LLM of choice. I want to first define my LLM-as-a-Judge prompt template. Most LLM-as-a-judge evaluations can be framed as a classification task where the output is one of two or more categorical labels.

    ```python
    CORRECTNESS_TEMPLATE = """
    You are given a question and an answer. Decide if the answer is fully correct.
    Rules: The answer must be factually accurate, complete, and directly address the question.
    If it is, respond with "correct". Otherwise respond with "incorrect".
    [BEGIN DATA]
        ************
        [Question]: {attributes.llm.input_messages}
        ************
        [Answer]: {attributes.llm.output_messages}
    [END DATA]

    Your response must be a single word, either "correct" or "incorrect",
    and should not contain any text or characters aside from that word.
    "correct" means that the question is correctly and fully answered by the answer.
    "incorrect" means that the question is not correctly or only partially answered by the
    answer.
    """
    ```

    Now we want to define our Classification Evaluator

    ```python
    from phoenix.evals import create_classifier

    correctness_evaluator = create_classifier(
        name="correctness",
        prompt_template=CORRECTNESS_TEMPLATE,
        llm=llm,
        choices={"correct": 1.0, "incorrect": 0.0},
    )
    ```
  </Step>

  <Step title={<span className="step-title">Run Evaluation</span>}>
    Now that we have defined our evaluator, we're ready to evaluate our traces.

    ```python
    from phoenix.evals import evaluate_dataframe

    results_df = evaluate_dataframe(
        dataframe=primary_df,
        evaluators=[correctness_evaluator]
    )
    ```
  </Step>

  <Step title={<span className="step-title">Log results to Visualize in Phoenix</span>}>
    You'll now be able to log your evaluations in your project view.

    First, format the evaluation results for logging using the `to_annotation_dataframe` utility:

    ```python
    from phoenix.evals.utils import to_annotation_dataframe

    # Format evaluation results for logging
    annotations_df = to_annotation_dataframe(results_df)
    ```

    Then log the annotations to Phoenix:

    ```python
    px_client.spans.log_span_annotations_dataframe(dataframe=annotations_df)
    ```
  </Step>
</Steps>

## Learn More:

<Columns cols={2}>
  <Card title="Evaluation Concepts" href="https://arize.com/docs/phoenix/evaluation/concepts-evals/llm-as-a-judge" />
  <Card title="Evals in Phoenix" href="https://arize.com/docs/phoenix/evaluation/llm-evals" />
</Columns>