---
title: "Get Started with Tracing"
---

In this guide, weâ€™ll get tracing set up in Phoenix Cloud and walk through how to instrument an application. Weâ€™ll start by setting up a Phoenix Cloud instance, create a simple agent using CrewAI, and then send a single trace so we can see everything end to end.

## **Before We Start**

To follow along, youâ€™ll need an [OpenAI API key](https://platform.openai.com/api-keys) & a [Serper Dev Key](https://serper.dev/signup).

Weâ€™ll be using OpenAI as our LLM provider & Serper as our Web Search Tool for our chatbot.

## **Step 1: Set Up Phoenix Cloud**

Before we can send traces anywhere, we need Phoenix running.

In this step, weâ€™ll create a Phoenix Cloud account and configure it for our application. If youâ€™d rather run Phoenix locally, you can follow the [local setup guide instead.](https://arize.com/docs/phoenix/self-hosting)

### **Create a Phoenix Cloud Account**

1. Make a free [Phoenix Cloud](https://app.arize.com/auth/phoenix/login?redirect_uri=%2Foauth2%2Fauthorize%3Fclient_id%3Dphoenix-cloud%26redirect_uri%3Dhttps%253A%252F%252Fapp.phoenix.arize.com%252Fcallback%26response_type%3Dcode%26scope%3Dopenid%2Bprofile%2Bemail%26state%3DeyJub25jZSI6IjBFLVNDUktieEtjPSIsIm5leHQiOiIifQ%253D%253D) account.
2. From the dashboard, click **Create a Space** in the upper-right corner.
3. Enter a name for your new space.
4. Once the space is created, launch your Phoenix instance directly from the dashboard.
5. Create and save an API key. Weâ€™ll use this in the next step.
6. Note your **Hostname** â€” this is the endpoint weâ€™ll configure in code shortly.

<video
  controls
  className="w-full aspect-video rounded-xl"
  src="https://storage.googleapis.com/arize-phoenix-assets/assets/videos/observe_phoenix_cloud_launch.mp4"
/>

<video
  controls
  className="w-full aspect-video rounded-xl"
  src="https://storage.googleapis.com/arize-phoenix-assets/assets/gifs/api_key_hostname.mp4"
/>

## **Step 2: Configure your Environment**

Now that Phoenix is running, we need to connect our application to it so we can start sending traces.

In this step, weâ€™ll install the required dependencies and configure a few environment variables. This setup is what allows Phoenix to receive trace data from our application. Once itâ€™s in place, running the application will automatically create a project in the Phoenix UI and record each traced run there.

Weâ€™ll use the CrewAI framework in Python, but Phoenix works with many agent frameworks and orchestration libraries. You can find the full list of supported frameworks on our [Integrations Page.Â ](https://arize.com/docs/phoenix/integrations)

Weâ€™ll now install both the CrewAI package and the OpenInference CrewAI auto-instrumentation package, which handles tracing for us without requiring manual instrumentation.

### **Install Your Packages**

```
%pip install -qqqqq arize-phoenix crewai crewai-tools openinference-instrumentation-crewai openai getpass
```

### **Set Your API Keys**

```python
import os
from getpass import getpass

if not (openai_api_key := os.getenv("OPENAI_API_KEY")):
    openai_api_key = getpass("ðŸ”‘ Enter your OpenAI API key: ")

if not (serper_api_key := os.getenv("SERPER_API_KEY")):
    serper_api_key = getpass("ðŸ”‘ Enter your Serper API key: ")

if not (phoenix_api_key := os.getenv("PHOENIX_API_KEY")):
    phoenix_api_key = getpass("ðŸ”‘ Enter your Phoenix API key: ")

if not (phoenix_endpoint := os.getenv("PHOENIX_COLLECTOR_ENDPOINT")):
    phoenix_endpoint = getpass("ðŸ”‘ Enter your Phoenix Endpoint: ")

os.environ["PHOENIX_API_KEY"] = phoenix_api_key
os.environ["PHOENIX_COLLECTOR_ENDPOINT"] = phoenix_endpoint
os.environ["SERPER_API_KEY"] = serper_api_key
os.environ["OPENAI_API_KEY"] = openai_api_key
```

### **Register Your Project in Phoenix**Â 

Next, weâ€™ll register a tracer provider linked to a project in Phoenix. This project is where your traces will show up in the UI.

```python
from phoenix.otel import register

tracer_provider = register(project_name="crewai-tracing-quickstart", auto_instrument=True)
```

At this point, your application is configured to send traces to Phoenix!

## **Step 3: Create your Agent**

Now that Phoenix is running and our environment is configured, we can start building the application so we can generate real execution and send traces to Phoenix.

In this step, weâ€™ll create a simple Financial Analysis and Research chatbot.

This agent is made up of:

- Two sub-agents: a Research agent and a Writer agent
- Two tasks: one for financial research and one for generating a summary report
- One tool: SerperDevTool for real-time web search

### **Define the Agents**

Weâ€™ll start by defining the two agents that make up our crew & the tool the agents may use.

```python
from crewai import Agent, Crew, Process, Task
from crewai_tools import SerperDevTool

search_tool = SerperDevTool()

researcher = Agent(
    role="Financial Research Analyst",
    goal="Gather up-to-date financial data, trends, and news for the target companies or markets",
    backstory="""
        You are a Senior Financial Research Analyst.
    """,
    verbose=True,
    allow_delegation=False,
    max_iter=2,
    tools=[search_tool],
)

writer = Agent(
    role="Financial Report Writer",
    goal="Compile and summarize financial research into clear, actionable insights",
    backstory="""
        You are an experienced financial content writer.
    """,
    verbose=True,
    allow_delegation=True,
    max_iter=1
)
```

### **Define the Tasks & Tool**

Next, weâ€™ll define the tasks each agent is responsible for.

```python
task1 = Task(
    description="""
        Research: {tickers}
        Focus on: {focus}
    """,
    expected_output="Detailed financial research summary with web search findings",
    agent=researcher,
)

task2 = Task(
    description="Write a report based on the research above.",
    expected_output="A polished financial analysis report",
    agent=writer,
)
```

### **Create and Run the Crew**

Finally, weâ€™ll wire the agents and tasks together and run them sequentially.

```python
crew = Crew(
    agents=[researcher, writer],
    tasks=[task1, task2],
    verbose=1,
    process=Process.sequential,
)
```

At this point, we have a working CrewAI setup with multiple agents, tasks, and a tool. In the next step, weâ€™ll run the crew and see how its execution shows up as a trace in Phoenix!

## **Step 4: Look at the Trace in Phoenix**

Now that weâ€™ve defined our chatbot, all thatâ€™s left to do is run it and see what Phoenix captures.

To run the agent, execute the following:

```python
user_inputs = {
    "tickers": "TSLA",
    "focus": "financial analysis and market outlook"
}

result = crew.kickoff(inputs=user_inputs)
```

Once the run completes, head back to Phoenix and navigate to the **Traces** view. You should see a new trace corresponding to this run. Click into it to explore how the agents and tasks are executed.

<video
  controls
  className="w-full aspect-video rounded-xl"
  src="https://storage.googleapis.com/arize-phoenix-assets/assets/videos/first_trace_onboarding.mov"
/>

At this point, you can follow the full execution of the chatbot as a single trace in Phoenix.

More importantly, you can now see how your application actually ran:

- Which agents were invoked and in what order
- How tasks flowed from one step to the next
- Where time was spent across the workflow

This is something you couldnâ€™t see before tracing. Instead of guessing how an agent run behaved or digging through logs, you now have a single, end-to-end view of each execution.

**Congratulations!** Youâ€™ve sent your first trace to Phoenix.

## **Learn More About Traces**

Youâ€™ve now sent a trace to Phoenix and seen how an agent runs shows up from start to finish.

The next step you can take is to run evaluations on your application to start measuring where it is working well and where it needs some iteration to improve performance. Follow along with the [Get Started guide for Evals](https://arize.com/docs/phoenix/get-started/get-started-evaluations) to add even more value to setting up tracing.

If you want to focus on tracing and go deeper into just looking at your traces, the [Tracing Tutorial ](https://arize.com/docs/phoenix/tracing/tutorial)walks through how to interpret traces in more detail: including how to read spans, understand timing, and use trace data to debug and analyze your application.
