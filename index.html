<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <title>App</title>
        <script src="./src/phoenix/nbextension/static/index.js"></script>
        <style>
            body {
                font-family: "Roboto", sans-serif;
            }
        </style>
    </head>
    <body>
        <div id="root"></div>
    </body>
    <script>
        function generateData(length, offset = 0, idOffset = 0) {
            return Array.from({ length }, (_, i) => ({
                position: [
                    Math.random() + offset,
                    Math.random() + offset,
                    Math.random() + offset,
                ],
                metaData: {
                    id: i + idOffset,
                },
            }));
        }
        function onDomReady(fn) {
            // If we're early to the party, wait till the dom is ready
            document.addEventListener("DOMContentLoaded", fn);
            // If late; I mean on time.
            if (
                document.readyState === "interactive" ||
                document.readyState === "complete"
            ) {
                fn();
            }
        }

        onDomReady(() =>
            window.renderUMAPWidget({
                primaryData: generateData(1000),
                referenceData: generateData(1000, 1, 1000),
            })
        );
    </script>
</html>
